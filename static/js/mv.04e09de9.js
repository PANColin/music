"use strict";(self["webpackChunkyunmusic_app"]=self["webpackChunkyunmusic_app"]||[]).push([[808],{1324:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var i=a(8620),o=(a(7748),a(8101)),l=(a(1252),a(3)),n=(a(6145),a(3396));const r=e=>((0,n.dD)("data-v-29fc05af"),e=e(),(0,n.Cn)(),e),c={class:"wrapper"},s=r((()=>(0,n._)("div",{class:"filter-c"},null,-1))),u={key:0,class:"mv-container"},v=["src","poster"];function d(e,t,a,r,d,h){const f=l.E,p=o.j,m=i.o;return(0,n.wg)(),(0,n.iD)("div",c,[s,d.mv.length>0?((0,n.wg)(),(0,n.iD)("div",u,[(0,n.Wm)(m,{style:{height:"100vh"},class:"my-swipe",autoplay:!1,vertical:!0,"show-indicators":!1,onChange:h.mvChange},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(d.mv,(e=>((0,n.wg)(),(0,n.j4)(p,{class:"my-swipe-item",key:e.id,onClick:t=>h.mvClick(e)},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{fit:"cover",width:"100%",height:"50px",src:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2F5e6dadd63542bddf4c8cc9de6649ecea56b64ea2aeccb-VO2jBP_fw658&refer=http%3A%2F%2Fhbimg.b0.upaiyun.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1658497066&t=5b1c3af237d504e6b2bfd961a0eb1d48"}),(0,n.Wm)(f,{fit:"cover",width:"100%",height:"6rem",src:e.cover},null,8,["src"]),(0,n._)("video",{src:d.mvObj?.url,id:"_volume",class:"mv-video",controls:"","webkit-playsinline":"true",playsinline:"true",style:{"object-fit":"contain"},preload:"auto",poster:e.cover},null,8,v),(0,n.Wm)(f,{fit:"cover",width:"100%",height:"6rem",src:e.cover},null,8,["src"]),(0,n.Wm)(f,{fit:"cover",width:"100%",height:"50px",src:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fhbimg.b0.upaiyun.com%2F5e6dadd63542bddf4c8cc9de6649ecea56b64ea2aeccb-VO2jBP_fw658&refer=http%3A%2F%2Fhbimg.b0.upaiyun.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1658497066&t=5b1c3af237d504e6b2bfd961a0eb1d48"})])),_:2},1032,["onClick"])))),128))])),_:1},8,["onChange"])])):(0,n.kq)("",!0)])}var h=a(8859);function f(e={limit:100}){return(0,h.Z)({url:"/mv/first",method:"GET",data:e})}function p(e={id:5436712}){return(0,h.Z)({url:"/mv/url",method:"GET",data:e})}var m=a(9733),g={name:"Mv",components:{},data(){return{mv:[],mvObj:{}}},computed:{},async created(){console.log(this.$route);var{data:e}=await f();this.mv=e,console.log(e)},methods:{goHome(){this.$router.push({path:"/home"})},mvChange(e){console.log(e),this.mvClick(this.mv[e])},async mvClick(e){console.log(e);let{data:t}=await p({id:e.id});console.log(t),this.mvObj=t,this.mvObj.url||(0,m.F)({message:"暂无资源",icon:"warning"}),console.log(this.mvObj)}}},w=a(89);const b=(0,w.Z)(g,[["render",d],["__scopeId","data-v-29fc05af"]]);var y=b},3:function(e,t,a){a.d(t,{E:function(){return m}});var i=a(1404),o=a(3396),l=a(4870),n=a(610),r=a(5323),c=a(8332),s=a(6491),u=a(2220),v=a(3649);const[d,h]=(0,n["do"])("image"),f={src:String,alt:String,fit:String,position:String,round:Boolean,width:r.Or,height:r.Or,radius:r.Or,lazyLoad:Boolean,iconSize:r.Or,showError:r.J5,errorIcon:(0,r.SQ)("photo-fail"),iconPrefix:String,showLoading:r.J5,loadingIcon:(0,r.SQ)("photo")};var p=(0,o.aZ)({name:d,props:f,emits:["load","error"],setup(e,{emit:t,slots:a}){const i=(0,l.iH)(!1),n=(0,l.iH)(!0),r=(0,l.iH)(),{$Lazyload:d}=(0,o.FN)().proxy,f=(0,o.Fl)((()=>{const t={width:(0,c.Nn)(e.width),height:(0,c.Nn)(e.height)};return(0,s.Xq)(e.radius)&&(t.overflow="hidden",t.borderRadius=(0,c.Nn)(e.radius)),t}));(0,o.YP)((()=>e.src),(()=>{i.value=!1,n.value=!0}));const p=e=>{n.value=!1,t("load",e)},m=e=>{i.value=!0,n.value=!1,t("error",e)},g=(t,a,i)=>i?i():(0,o.Wm)(v.J,{name:t,size:e.iconSize,class:a,classPrefix:e.iconPrefix},null),w=()=>n.value&&e.showLoading?(0,o.Wm)("div",{class:h("loading")},[g(e.loadingIcon,h("loading-icon"),a.loading)]):i.value&&e.showError?(0,o.Wm)("div",{class:h("error")},[g(e.errorIcon,h("error-icon"),a.error)]):void 0,b=()=>{if(i.value||!e.src)return;const t={alt:e.alt,class:h("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?(0,o.wy)((0,o.Wm)("img",(0,o.dG)({ref:r},t),null),[[(0,o.Q2)("lazy"),e.src]]):(0,o.Wm)("img",(0,o.dG)({src:e.src,onLoad:p,onError:m},t),null)},y=({el:e})=>{const t=()=>{e===r.value&&n.value&&p()};r.value?t():(0,o.Y3)(t)},F=({el:e})=>{e!==r.value||i.value||m()};return d&&u._f&&(d.$on("loaded",y),d.$on("error",F),(0,o.Jd)((()=>{d.$off("loaded",y),d.$off("error",F)}))),()=>{var t;return(0,o.Wm)("div",{class:h({round:e.round}),style:f.value},[b(),w(),null==(t=a.default)?void 0:t.call(a)])}}});const m=(0,i.n)(p)},6145:function(e,t,a){a(1958),a(368),a(6742),a(7179)},8101:function(e,t,a){a.d(t,{j:function(){return h}});var i=a(1404),o=a(3396),l=a(4870),n=a(610),r=a(4050),c=a(253),s=a(3444);const[u,v]=(0,n["do"])("swipe-item");var d=(0,o.aZ)({name:u,setup(e,{slots:t}){let a;const i=(0,l.qj)({offset:0,inited:!1,mounted:!1}),{parent:n,index:u}=(0,c.NB)(r.P);if(!n)return void 0;const d=(0,o.Fl)((()=>{const e={},{vertical:t}=n.props;return n.size.value&&(e[t?"height":"width"]=`${n.size.value}px`),i.offset&&(e.transform=`translate${t?"Y":"X"}(${i.offset}px)`),e})),h=(0,o.Fl)((()=>{const{loop:e,lazyRender:t}=n.props;if(!t||a)return!0;if(!i.mounted)return!1;const o=n.activeIndicator.value,l=n.count.value-1,r=0===o&&e?l:o-1,c=o===l&&e?0:o+1;return a=u.value===o||u.value===r||u.value===c,a})),f=e=>{i.offset=e};return(0,o.bv)((()=>{(0,o.Y3)((()=>{i.mounted=!0}))})),(0,s.F)({setOffset:f}),()=>{var e;return(0,o.Wm)("div",{class:v(),style:d.value},[h.value?null==(e=t.default)?void 0:e.call(t):null])}}});const h=(0,i.n)(d)},1252:function(e,t,a){a(1958),a(9137),a(1088)},4050:function(e,t,a){a.d(t,{P:function(){return m},Z:function(){return g}});var i=a(3396),o=a(4870),l=a(610),n=a(5323),r=a(8332),c=a(7936),s=a(253),u=a(5261),v=a(3444),d=a(7631);const[h,f]=(0,l["do"])("swipe"),p={loop:n.J5,width:n.Or,height:n.Or,vertical:Boolean,autoplay:(0,n.SI)(0),duration:(0,n.SI)(500),touchable:n.J5,lazyRender:Boolean,initialSwipe:(0,n.SI)(0),indicatorColor:String,showIndicators:n.J5,stopPropagation:n.J5},m=Symbol(h);var g=(0,i.aZ)({name:h,props:p,emits:["change"],setup(e,{emit:t,slots:a}){const l=(0,o.iH)(),n=(0,o.qj)({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),h=(0,u.o)(),{children:p,linkChildren:g}=(0,s.$E)(m),w=(0,i.Fl)((()=>p.length)),b=(0,i.Fl)((()=>n[e.vertical?"height":"width"])),y=(0,i.Fl)((()=>e.vertical?h.deltaY.value:h.deltaX.value)),F=(0,i.Fl)((()=>{if(n.rect){const t=e.vertical?n.rect.height:n.rect.width;return t-b.value*w.value}return 0})),C=(0,i.Fl)((()=>Math.ceil(Math.abs(F.value)/b.value))),j=(0,i.Fl)((()=>w.value*b.value)),O=(0,i.Fl)((()=>(n.active+w.value)%w.value)),P=(0,i.Fl)((()=>{const t=e.vertical?"vertical":"horizontal";return h.direction.value===t})),S=(0,i.Fl)((()=>{const t={transitionDuration:`${n.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${n.offset}px)`};if(b.value){const a=e.vertical?"height":"width",i=e.vertical?"width":"height";t[a]=`${j.value}px`,t[i]=e[i]?`${e[i]}px`:""}return t})),W=t=>{const{active:a}=n;return t?e.loop?(0,r.uZ)(a+t,-1,w.value):(0,r.uZ)(a+t,0,C.value):a},k=(t,a=0)=>{let i=t*b.value;e.loop||(i=Math.min(i,-F.value));let o=a-i;return e.loop||(o=(0,r.uZ)(o,F.value,0)),o},z=({pace:a=0,offset:i=0,emitChange:o})=>{if(w.value<=1)return;const{active:l}=n,r=W(a),c=k(r,i);if(e.loop){if(p[0]&&c!==F.value){const e=c<F.value;p[0].setOffset(e?j.value:0)}if(p[w.value-1]&&0!==c){const e=c>0;p[w.value-1].setOffset(e?-j.value:0)}}n.active=r,n.offset=c,o&&r!==l&&t("change",O.value)},$=()=>{n.swiping=!0,n.active<=-1?z({pace:w.value}):n.active>=w.value&&z({pace:-w.value})},x=()=>{$(),h.reset(),(0,s.d1)((()=>{n.swiping=!1,z({pace:-1,emitChange:!0})}))},Y=()=>{$(),h.reset(),(0,s.d1)((()=>{n.swiping=!1,z({pace:1,emitChange:!0})}))};let _;const I=()=>clearTimeout(_),Z=()=>{I(),e.autoplay>0&&w.value>1&&(_=setTimeout((()=>{Y(),Z()}),+e.autoplay))},E=(t=+e.initialSwipe)=>{if(!l.value)return;const a=()=>{var a,i;if(!(0,c.xj)(l)){const t={width:l.value.offsetWidth,height:l.value.offsetHeight};n.rect=t,n.width=+(null!=(a=e.width)?a:t.width),n.height=+(null!=(i=e.height)?i:t.height)}w.value&&(t=Math.min(w.value-1,t)),n.active=t,n.swiping=!0,n.offset=k(t),p.forEach((e=>{e.setOffset(0)})),Z()};(0,c.xj)(l)?(0,i.Y3)().then(a):a()},J=()=>E(n.active);let T;const M=t=>{e.touchable&&(h.start(t),T=Date.now(),I(),$())},B=t=>{e.touchable&&n.swiping&&(h.move(t),P.value&&((0,c.PF)(t,e.stopPropagation),z({offset:y.value})))},D=()=>{if(!e.touchable||!n.swiping)return;const t=Date.now()-T,a=y.value/t,i=Math.abs(a)>.25||Math.abs(y.value)>b.value/2;if(i&&P.value){const t=e.vertical?h.offsetY.value:h.offsetX.value;let a=0;a=e.loop?t>0?y.value>0?-1:1:0:-Math[y.value>0?"ceil":"floor"](y.value/b.value),z({pace:a,emitChange:!0})}else y.value&&z({pace:0});n.swiping=!1,Z()},H=(t,a={})=>{$(),h.reset(),(0,s.d1)((()=>{let i;i=e.loop&&t===w.value?0===n.active?0:t:t%w.value,a.immediate?(0,s.d1)((()=>{n.swiping=!1})):n.swiping=!1,z({pace:i-n.active,emitChange:!0})}))},q=(t,a)=>{const o=a===O.value,l=o?{backgroundColor:e.indicatorColor}:void 0;return(0,i.Wm)("i",{style:l,class:f("indicator",{active:o})},null)},L=()=>a.indicator?a.indicator({active:O.value,total:w.value}):e.showIndicators&&w.value>1?(0,i.Wm)("div",{class:f("indicators",{vertical:e.vertical})},[Array(w.value).fill("").map(q)]):void 0;return(0,v.F)({prev:x,next:Y,state:n,resize:J,swipeTo:H}),g({size:b,props:e,count:w,activeIndicator:O}),(0,i.YP)((()=>e.initialSwipe),(e=>E(+e))),(0,i.YP)(w,(()=>E(n.active))),(0,i.YP)((()=>e.autoplay),Z),(0,i.YP)([c.bn,c.uK],J),(0,i.YP)((0,s.d9)(),(e=>{"visible"===e?Z():I()})),(0,i.bv)(E),(0,i.dl)((()=>E(n.active))),(0,d.h)((()=>E(n.active))),(0,i.se)(I),(0,i.Jd)(I),()=>{var t;return(0,i.Wm)("div",{ref:l,class:f()},[(0,i.Wm)("div",{style:S.value,class:f("track",{vertical:e.vertical}),onTouchstart:M,onTouchmove:B,onTouchend:D,onTouchcancel:D},[null==(t=a.default)?void 0:t.call(a)]),L()])}}})},8620:function(e,t,a){a.d(t,{o:function(){return l}});var i=a(1404),o=a(4050);const l=(0,i.n)(o.Z)},7748:function(e,t,a){a(1958),a(9137)}}]);
//# sourceMappingURL=mv.04e09de9.js.map