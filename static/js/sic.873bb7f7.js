"use strict";(self["webpackChunkyunmusic_app"]=self["webpackChunkyunmusic_app"]||[]).push([[255],{8921:function(e,t,a){a.d(t,{Eg:function(){return o},_4:function(){return r},dZ:function(){return l},xH:function(){return n}});var i=a(8859);function n(e){return(0,i.Z)({url:"/song/url/id",method:"GET",data:e})}function o(e={type:2}){return(0,i.Z)({url:"/banner",method:"GET",data:e})}function l(e={limit:100}){return(0,i.Z)({url:"/personalized",method:"GET",data:e})}function r(e={id:156934569,limit:100}){return(0,i.Z)({url:"/playlist/track/all",method:"GET",data:e})}},5302:function(e,t,a){a.r(t),a.d(t,{default:function(){return C}});var i=a(8620),n=(a(7748),a(8101)),o=(a(1252),a(3)),l=(a(6145),a(9420)),r=(a(2097),a(3649)),s=(a(4165),a(3396)),c=a(7139);const u=e=>((0,s.dD)("data-v-402548ec"),e=e(),(0,s.Cn)(),e),v={class:"wrapper"},d=u((()=>(0,s._)("div",{class:"filter-c"},null,-1))),f={key:0,class:"music-container"},h={class:"music-name"},g=["src"];function p(e,t,a,u,p,m){const w=r.J,y=l.l,x=o.E,b=n.j,C=i.o;return(0,s.wg)(),(0,s.iD)("div",v,[d,(0,s.Wm)(y,{title:"音乐","left-text":"返回","left-arrow":"",onClickLeft:m.goHome},{right:(0,s.w5)((()=>[(0,s.Wm)(w,{name:"search",size:"18"})])),_:1},8,["onClickLeft"]),p.song.length>0?((0,s.wg)(),(0,s.iD)("div",f,[(0,s.Wm)(C,{class:"my-swipe",autoplay:!1,"show-indicators":!1,onChange:m.musicChange},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(p.song,(e=>((0,s.wg)(),(0,s.j4)(b,{key:e.id,onClick:t=>m.songClick(e)},{default:(0,s.w5)((()=>[(0,s.Wm)(x,{round:"",width:"100%",src:e.al.picUrl,class:(0,c.C_)(p.songObj?.url?"music":"")},null,8,["src","class"]),(0,s._)("div",h,(0,c.zw)(e.name),1)])),_:2},1032,["onClick"])))),128))])),_:1},8,["onChange"]),(0,s._)("audio",{autoplay:"",src:p.songObj?.url},null,8,g)])):(0,s.kq)("",!0)])}var m=a(8921),w=a(9733),y={name:"Music",components:{},data(){return{song:[],songObj:{}}},computed:{},async created(){if(this.song.length<=0&&(this.song=JSON.parse(localStorage.getItem("song"))),this.$route.query.id)var{songs:e}=await(0,m._4)({id:this.$route.query.id,limit:100});else var{songs:e}=await(0,m._4)();this.song=e,localStorage.setItem("song",JSON.stringify(this.song))},methods:{goHome(){this.$router.push({path:"/home"})},musicChange(e){console.log(e),this.songClick(this.song[e])},async songClick(e){console.log(e);let{data:t}=await(0,m.xH)({id:e.id});console.log(t),this.songObj=t[0],this.songObj.url||(0,w.F)({message:"暂无资源",icon:"warning"}),console.log(this.songObj)}}},x=a(89);const b=(0,x.Z)(y,[["render",p],["__scopeId","data-v-402548ec"]]);var C=b},4165:function(e,t,a){a(1958),a(368),a(6742)},3:function(e,t,a){a.d(t,{E:function(){return p}});var i=a(1404),n=a(3396),o=a(4870),l=a(610),r=a(5323),s=a(8332),c=a(6491),u=a(2220),v=a(3649);const[d,f]=(0,l["do"])("image"),h={src:String,alt:String,fit:String,position:String,round:Boolean,width:r.Or,height:r.Or,radius:r.Or,lazyLoad:Boolean,iconSize:r.Or,showError:r.J5,errorIcon:(0,r.SQ)("photo-fail"),iconPrefix:String,showLoading:r.J5,loadingIcon:(0,r.SQ)("photo")};var g=(0,n.aZ)({name:d,props:h,emits:["load","error"],setup(e,{emit:t,slots:a}){const i=(0,o.iH)(!1),l=(0,o.iH)(!0),r=(0,o.iH)(),{$Lazyload:d}=(0,n.FN)().proxy,h=(0,n.Fl)((()=>{const t={width:(0,s.Nn)(e.width),height:(0,s.Nn)(e.height)};return(0,c.Xq)(e.radius)&&(t.overflow="hidden",t.borderRadius=(0,s.Nn)(e.radius)),t}));(0,n.YP)((()=>e.src),(()=>{i.value=!1,l.value=!0}));const g=e=>{l.value=!1,t("load",e)},p=e=>{i.value=!0,l.value=!1,t("error",e)},m=(t,a,i)=>i?i():(0,n.Wm)(v.J,{name:t,size:e.iconSize,class:a,classPrefix:e.iconPrefix},null),w=()=>l.value&&e.showLoading?(0,n.Wm)("div",{class:f("loading")},[m(e.loadingIcon,f("loading-icon"),a.loading)]):i.value&&e.showError?(0,n.Wm)("div",{class:f("error")},[m(e.errorIcon,f("error-icon"),a.error)]):void 0,y=()=>{if(i.value||!e.src)return;const t={alt:e.alt,class:f("img"),style:{objectFit:e.fit,objectPosition:e.position}};return e.lazyLoad?(0,n.wy)((0,n.Wm)("img",(0,n.dG)({ref:r},t),null),[[(0,n.Q2)("lazy"),e.src]]):(0,n.Wm)("img",(0,n.dG)({src:e.src,onLoad:g,onError:p},t),null)},x=({el:e})=>{const t=()=>{e===r.value&&l.value&&g()};r.value?t():(0,n.Y3)(t)},b=({el:e})=>{e!==r.value||i.value||p()};return d&&u._f&&(d.$on("loaded",x),d.$on("error",b),(0,n.Jd)((()=>{d.$off("loaded",x),d.$off("error",b)}))),()=>{var t;return(0,n.Wm)("div",{class:f({round:e.round}),style:h.value},[y(),w(),null==(t=a.default)?void 0:t.call(a)])}}});const p=(0,i.n)(g)},6145:function(e,t,a){a(1958),a(368),a(6742),a(7179)},9420:function(e,t,a){a.d(t,{l:function(){return p}});var i=a(1404),n=a(3396),o=a(4870),l=a(610),r=a(5323),s=a(8332),c=a(5322),u=a(4373),v=a(3649);const[d,f]=(0,l["do"])("nav-bar"),h={title:String,fixed:Boolean,zIndex:r.Or,border:r.J5,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var g=(0,n.aZ)({name:d,props:h,emits:["click-left","click-right"],setup(e,{emit:t,slots:a}){const i=(0,o.iH)(),l=(0,u.J)(i,f),r=e=>t("click-left",e),d=e=>t("click-right",e),h=()=>a.left?a.left():[e.leftArrow&&(0,n.Wm)(v.J,{class:f("arrow"),name:"arrow-left"},null),e.leftText&&(0,n.Wm)("span",{class:f("text")},[e.leftText])],g=()=>a.right?a.right():(0,n.Wm)("span",{class:f("text")},[e.rightText]),p=()=>{const{title:t,fixed:o,border:l,zIndex:u}=e,v=(0,s.As)(u),p=e.leftArrow||e.leftText||a.left,m=e.rightText||a.right;return(0,n.Wm)("div",{ref:i,style:v,class:[f({fixed:o}),{[c.xe]:l,"van-safe-area-top":e.safeAreaInsetTop}]},[(0,n.Wm)("div",{class:f("content")},[p&&(0,n.Wm)("div",{class:[f("left"),c.e9],onClick:r},[h()]),(0,n.Wm)("div",{class:[f("title"),"van-ellipsis"]},[a.title?a.title():t]),m&&(0,n.Wm)("div",{class:[f("right"),c.e9],onClick:d},[g()])])])};return()=>e.fixed&&e.placeholder?l(p):p()}});const p=(0,i.n)(g)},2097:function(e,t,a){a(1958),a(368),a(6742)},8101:function(e,t,a){a.d(t,{j:function(){return f}});var i=a(1404),n=a(3396),o=a(4870),l=a(610),r=a(4050),s=a(253),c=a(3444);const[u,v]=(0,l["do"])("swipe-item");var d=(0,n.aZ)({name:u,setup(e,{slots:t}){let a;const i=(0,o.qj)({offset:0,inited:!1,mounted:!1}),{parent:l,index:u}=(0,s.NB)(r.P);if(!l)return void 0;const d=(0,n.Fl)((()=>{const e={},{vertical:t}=l.props;return l.size.value&&(e[t?"height":"width"]=`${l.size.value}px`),i.offset&&(e.transform=`translate${t?"Y":"X"}(${i.offset}px)`),e})),f=(0,n.Fl)((()=>{const{loop:e,lazyRender:t}=l.props;if(!t||a)return!0;if(!i.mounted)return!1;const n=l.activeIndicator.value,o=l.count.value-1,r=0===n&&e?o:n-1,s=n===o&&e?0:n+1;return a=u.value===n||u.value===r||u.value===s,a})),h=e=>{i.offset=e};return(0,n.bv)((()=>{(0,n.Y3)((()=>{i.mounted=!0}))})),(0,c.F)({setOffset:h}),()=>{var e;return(0,n.Wm)("div",{class:v(),style:d.value},[f.value?null==(e=t.default)?void 0:e.call(t):null])}}});const f=(0,i.n)(d)},1252:function(e,t,a){a(1958),a(9137),a(1088)},4050:function(e,t,a){a.d(t,{P:function(){return p},Z:function(){return m}});var i=a(3396),n=a(4870),o=a(610),l=a(5323),r=a(8332),s=a(7936),c=a(253),u=a(5261),v=a(3444),d=a(7631);const[f,h]=(0,o["do"])("swipe"),g={loop:l.J5,width:l.Or,height:l.Or,vertical:Boolean,autoplay:(0,l.SI)(0),duration:(0,l.SI)(500),touchable:l.J5,lazyRender:Boolean,initialSwipe:(0,l.SI)(0),indicatorColor:String,showIndicators:l.J5,stopPropagation:l.J5},p=Symbol(f);var m=(0,i.aZ)({name:f,props:g,emits:["change"],setup(e,{emit:t,slots:a}){const o=(0,n.iH)(),l=(0,n.qj)({rect:null,width:0,height:0,offset:0,active:0,swiping:!1}),f=(0,u.o)(),{children:g,linkChildren:m}=(0,c.$E)(p),w=(0,i.Fl)((()=>g.length)),y=(0,i.Fl)((()=>l[e.vertical?"height":"width"])),x=(0,i.Fl)((()=>e.vertical?f.deltaY.value:f.deltaX.value)),b=(0,i.Fl)((()=>{if(l.rect){const t=e.vertical?l.rect.height:l.rect.width;return t-y.value*w.value}return 0})),C=(0,i.Fl)((()=>Math.ceil(Math.abs(b.value)/y.value))),k=(0,i.Fl)((()=>w.value*y.value)),S=(0,i.Fl)((()=>(l.active+w.value)%w.value)),W=(0,i.Fl)((()=>{const t=e.vertical?"vertical":"horizontal";return f.direction.value===t})),T=(0,i.Fl)((()=>{const t={transitionDuration:`${l.swiping?0:e.duration}ms`,transform:`translate${e.vertical?"Y":"X"}(${l.offset}px)`};if(y.value){const a=e.vertical?"height":"width",i=e.vertical?"width":"height";t[a]=`${k.value}px`,t[i]=e[i]?`${e[i]}px`:""}return t})),z=t=>{const{active:a}=l;return t?e.loop?(0,r.uZ)(a+t,-1,w.value):(0,r.uZ)(a+t,0,C.value):a},O=(t,a=0)=>{let i=t*y.value;e.loop||(i=Math.min(i,-b.value));let n=a-i;return e.loop||(n=(0,r.uZ)(n,b.value,0)),n},F=({pace:a=0,offset:i=0,emitChange:n})=>{if(w.value<=1)return;const{active:o}=l,r=z(a),s=O(r,i);if(e.loop){if(g[0]&&s!==b.value){const e=s<b.value;g[0].setOffset(e?k.value:0)}if(g[w.value-1]&&0!==s){const e=s>0;g[w.value-1].setOffset(e?-k.value:0)}}l.active=r,l.offset=s,n&&r!==o&&t("change",S.value)},I=()=>{l.swiping=!0,l.active<=-1?F({pace:w.value}):l.active>=w.value&&F({pace:-w.value})},$=()=>{I(),f.reset(),(0,c.d1)((()=>{l.swiping=!1,F({pace:-1,emitChange:!0})}))},j=()=>{I(),f.reset(),(0,c.d1)((()=>{l.swiping=!1,F({pace:1,emitChange:!0})}))};let J;const P=()=>clearTimeout(J),Z=()=>{P(),e.autoplay>0&&w.value>1&&(J=setTimeout((()=>{j(),Z()}),+e.autoplay))},_=(t=+e.initialSwipe)=>{if(!o.value)return;const a=()=>{var a,i;if(!(0,s.xj)(o)){const t={width:o.value.offsetWidth,height:o.value.offsetHeight};l.rect=t,l.width=+(null!=(a=e.width)?a:t.width),l.height=+(null!=(i=e.height)?i:t.height)}w.value&&(t=Math.min(w.value-1,t)),l.active=t,l.swiping=!0,l.offset=O(t),g.forEach((e=>{e.setOffset(0)})),Z()};(0,s.xj)(o)?(0,i.Y3)().then(a):a()},Y=()=>_(l.active);let E;const H=t=>{e.touchable&&(f.start(t),E=Date.now(),P(),I())},B=t=>{e.touchable&&l.swiping&&(f.move(t),W.value&&((0,s.PF)(t,e.stopPropagation),F({offset:x.value})))},L=()=>{if(!e.touchable||!l.swiping)return;const t=Date.now()-E,a=x.value/t,i=Math.abs(a)>.25||Math.abs(x.value)>y.value/2;if(i&&W.value){const t=e.vertical?f.offsetY.value:f.offsetX.value;let a=0;a=e.loop?t>0?x.value>0?-1:1:0:-Math[x.value>0?"ceil":"floor"](x.value/y.value),F({pace:a,emitChange:!0})}else x.value&&F({pace:0});l.swiping=!1,Z()},M=(t,a={})=>{I(),f.reset(),(0,c.d1)((()=>{let i;i=e.loop&&t===w.value?0===l.active?0:t:t%w.value,a.immediate?(0,c.d1)((()=>{l.swiping=!1})):l.swiping=!1,F({pace:i-l.active,emitChange:!0})}))},A=(t,a)=>{const n=a===S.value,o=n?{backgroundColor:e.indicatorColor}:void 0;return(0,i.Wm)("i",{style:o,class:h("indicator",{active:n})},null)},D=()=>a.indicator?a.indicator({active:S.value,total:w.value}):e.showIndicators&&w.value>1?(0,i.Wm)("div",{class:h("indicators",{vertical:e.vertical})},[Array(w.value).fill("").map(A)]):void 0;return(0,v.F)({prev:$,next:j,state:l,resize:Y,swipeTo:M}),m({size:y,props:e,count:w,activeIndicator:S}),(0,i.YP)((()=>e.initialSwipe),(e=>_(+e))),(0,i.YP)(w,(()=>_(l.active))),(0,i.YP)((()=>e.autoplay),Z),(0,i.YP)([s.bn,s.uK],Y),(0,i.YP)((0,c.d9)(),(e=>{"visible"===e?Z():P()})),(0,i.bv)(_),(0,i.dl)((()=>_(l.active))),(0,d.h)((()=>_(l.active))),(0,i.se)(P),(0,i.Jd)(P),()=>{var t;return(0,i.Wm)("div",{ref:o,class:h()},[(0,i.Wm)("div",{style:T.value,class:h("track",{vertical:e.vertical}),onTouchstart:H,onTouchmove:B,onTouchend:L,onTouchcancel:L},[null==(t=a.default)?void 0:t.call(a)]),D()])}}})},8620:function(e,t,a){a.d(t,{o:function(){return o}});var i=a(1404),n=a(4050);const o=(0,i.n)(n.Z)},7748:function(e,t,a){a(1958),a(9137)}}]);
//# sourceMappingURL=sic.873bb7f7.js.map