"use strict";(self["webpackChunkyunmusic_app"]=self["webpackChunkyunmusic_app"]||[]).push([[535],{3094:function(){},7984:function(){},8292:function(e,t,n){n.r(t),n.d(t,{default:function(){return C}});var o=n(6944),l=(n(1958),n(9545)),r=(n(51),n(5331)),a=(n(9041),n(3739)),i=(n(2471),n(9420)),c=(n(2097),n(3649)),s=(n(4165),n(3396));const u={style:{margin:"16px"}},d=(0,s.Uk)(" 下一步 "),f=(0,s.Uk)(" 登录 ");function m(e,t,n,m,p,h){const g=c.J,k=i.l,x=a.g,w=r.T,y=l.z,v=o.l;return(0,s.wg)(),(0,s.iD)("div",null,[(0,s.Wm)(k,{title:"登录","left-text":"返回","left-arrow":"",onClickLeft:h.goHome},{right:(0,s.w5)((()=>[(0,s.Wm)(g,{name:"search",size:"18"})])),_:1},8,["onClickLeft"]),(0,s.Wm)(v,{onSubmit:e.onSubmit},{default:(0,s.w5)((()=>[(0,s.Wm)(w,{inset:""},{default:(0,s.w5)((()=>[p.next?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(x,{key:0,modelValue:p.user.phone,"onUpdate:modelValue":t[0]||(t[0]=e=>p.user.phone=e),name:"手机号",label:"手机号",type:"tel",placeholder:"手机号",rules:[{required:!0,message:"请填写手机号"}]},null,8,["modelValue"])),p.next?((0,s.wg)(),(0,s.j4)(x,{key:1,modelValue:p.user.captcha,"onUpdate:modelValue":t[1]||(t[1]=e=>p.user.captcha=e),type:"number",name:"验证码",label:"验证码",placeholder:"验证码",rules:[{required:!1,message:"请填写验证码"}]},null,8,["modelValue"])):(0,s.kq)("",!0)])),_:1}),(0,s._)("div",u,[p.next?(0,s.kq)("",!0):((0,s.wg)(),(0,s.j4)(y,{key:0,round:"",block:"",type:"primary",onClick:h.clickNext},{default:(0,s.w5)((()=>[d])),_:1},8,["onClick"])),p.next?((0,s.wg)(),(0,s.j4)(y,{key:1,round:"",block:"",type:"primary",onClick:h.doLogin},{default:(0,s.w5)((()=>[f])),_:1},8,["onClick"])):(0,s.kq)("",!0)])])),_:1},8,["onSubmit"])])}var p=n(9733),h=n(8859);function g(e){return(0,h.Z)({url:"/login/cellphone",method:"GET",data:e})}function k(e){return(0,h.Z)({url:"/captcha/sent",method:"GET",data:e})}const x="music-token",w="music-userInfo";function y(e){window.localStorage.setItem(x,e)}function v(e){window.localStorage.setItem(w,JSON.stringify(e))}var b={name:"Login",components:{},data(){return{user:{phone:18538370152,captcha:"",password:"506319.com"},next:!1}},async created(){},methods:{goHome(){this.$router.push({path:"/home"})},async clickNext(){this.next=!this.next;const e=await k({phone:this.user.phone});console.log(e)},async doLogin(){const e=await g(this.user);v(e),y(e.token),(0,p.F)("登录成功"),this.$router.back(),console.log(e)}}},T=n(89);const W=(0,T.Z)(b,[["render",m]]);var C=W},51:function(e,t,n){n(1958),n(368),n(6742),n(2939),n(1452)},9041:function(e,t,n){n(1958)},2471:function(e,t,n){n(1958),n(368),n(6742),n(3094),n(7984)},4165:function(e,t,n){n(1958),n(368),n(6742)},9420:function(e,t,n){n.d(t,{l:function(){return g}});var o=n(1404),l=n(3396),r=n(4870),a=n(610),i=n(5323),c=n(8332),s=n(5322),u=n(4373),d=n(3649);const[f,m]=(0,a["do"])("nav-bar"),p={title:String,fixed:Boolean,zIndex:i.Or,border:i.J5,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var h=(0,l.aZ)({name:f,props:p,emits:["click-left","click-right"],setup(e,{emit:t,slots:n}){const o=(0,r.iH)(),a=(0,u.J)(o,m),i=e=>t("click-left",e),f=e=>t("click-right",e),p=()=>n.left?n.left():[e.leftArrow&&(0,l.Wm)(d.J,{class:m("arrow"),name:"arrow-left"},null),e.leftText&&(0,l.Wm)("span",{class:m("text")},[e.leftText])],h=()=>n.right?n.right():(0,l.Wm)("span",{class:m("text")},[e.rightText]),g=()=>{const{title:t,fixed:r,border:a,zIndex:u}=e,d=(0,c.As)(u),g=e.leftArrow||e.leftText||n.left,k=e.rightText||n.right;return(0,l.Wm)("div",{ref:o,style:d,class:[m({fixed:r}),{[s.xe]:a,"van-safe-area-top":e.safeAreaInsetTop}]},[(0,l.Wm)("div",{class:m("content")},[g&&(0,l.Wm)("div",{class:[m("left"),s.e9],onClick:i},[p()]),(0,l.Wm)("div",{class:[m("title"),"van-ellipsis"]},[n.title?n.title():t]),k&&(0,l.Wm)("div",{class:[m("right"),s.e9],onClick:f},[h()])])])};return()=>e.fixed&&e.placeholder?a(g):g()}});const g=(0,o.n)(h)},2097:function(e,t,n){n(1958),n(368),n(6742)}}]);
//# sourceMappingURL=login.26a2bfae.js.map